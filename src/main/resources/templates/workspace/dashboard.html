<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head >
    <title>WMS - Workspace</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="WMS" />
    <!--CSS-->
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <link rel='stylesheet' href="css/bootstrap.css" th:href="@{/css/bootstrap.css}"  type='text/css' />
    <link href="css/style.css" th:href="@{/workspace_resource/css/style.css}" rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="/fonts/font-awesome/css/font-awesome.min.css" th:href="@{/fonts/font-awesome/css/font-awesome.min.css}"/>
    <link href="css/animate.css"  th:href="@{/workspace_resource/css/animate.css}" rel="stylesheet" type="text/css" media="all"/>

    <link rel="stylesheet" href="/css/bootstrap-combobox.css" th:href="@{/css/bootstrap-combobox.css}"/>
    <!--JS-->
    <script th:attr="src=@{/js/wow.min.js}"  th:href="@{/js/wow.min.js}"></script>
    <script>
        new WOW().init();
    </script>
    <script th:attr="src=@{/js/jquery-1.10.2.min.js}" th:href="@{/js/jquery-1.10.2.min.js}"></script>
    <!--confirmation-->
    <script th:attr="src=@{/js/bootstrap.min.js}"  th:href="@{/js/bootstrap.min.js}"></script>
    <script th:attr="src=@{/js/highcharts.js}"  th:href="@{/js/highcharts.js}"></script>
    <script th:attr="src=@{/js/exporting.js}"  th:href="@{/js/exporting.js}"></script>
    <!--FONT & FAVI ICON-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>
    <link rel="shortcut icon" th:href="@{/images/wms_favicon.ico}"/>

</head>
<body class="sticky-header left-side-collapsed">
<section>
    <!--left menu-->
    <div th:include="common/workspace_leftmenu :: frag-leftmenu"></div>
    <!--main content-->
    <div class="main-content main-content2 main-content2copy">
        <div th:include="common/header :: frag-headermneu"></div>

        <div id="page-wrapper">
            <button id="btn-get-revenue" th:value="@{/workspace/dashboard_ctr/getRevenue/}" type="button" style="display:none" class="btn btn-default" >
            </button>
            <div id="container" style="width:100%;height: 100vh">
                <div class="row">
                    <div class="col-sm-6" id="chart-revenue" style="height: 50vh">

                    </div>

                    <div class="col-sm-6">
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6" id="chart">

                    </div>

                    <div class="col-sm-6">
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!--footer-->
    <div th:include="common/footer :: frag-footer"></div>
</section>

<!--FIANL JS-->
<script th:attr="src=@{/js/jquery.nicescroll.js}" th:href="@{/js/jquery.nicescroll.js}"></script>
<script th:attr="src=@{/js/scripts.js}" th:href="@{/js/scripts.js}"></script>
<script th:attr="src=@{/js/bootstrap.min.js}"  th:href="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript">
    var revenueData = null;
    var date = new Date();
    var month = date.getMonth();
    var year = date.getYear();
    var date = date.getDate() - 7;
    var startPoint = Date.UTC(year, month, date);
    $.ajax({
        url: $('#btn-get-revenue').val()+"7",
        cache: false,
        async:false,
        contentType: false,
        processData: false,
        type: 'GET',
        success: function(data){
            revenueData = data;
        },
        error: function(data){
            alert(json.stringify(data));
        }
    });

    Highcharts.chart('chart-revenue', {

        title: {
            text: 'Doanh thu bán hàng theo ngày'
        },

        xAxis: {
            type: 'datetime',
        },

        yAxis: {
            title: {
                text: 'VNĐ'
            },
            labels: {
                formatter: function() {
                    return this.value + ' VNĐ';
                }
            },

        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle'
        },

        plotOptions: {
            series: {
                pointStart: startPoint,
                pointInterval: 24 * 3600 * 1000 // one day
            }
        },
        series: revenueData

    });
</script>
</body>
</html>